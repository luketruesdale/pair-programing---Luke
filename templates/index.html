{% extends 'base.html' %}
{% block page_title %} AI Salary Predictor {% endblock %}
{% block content %}

<div class="container mt-5">
  <h1 class="mb-4 text-center">AI Salary Predictor</h1>

  {% if prediction %}
    <div class="alert alert-success text-center">
      <h4>Your predicted salary is:</h4>
      <span id="output" style="color: crimson; font-size: 1.5rem;">
        ${{ "{:,.2f}".format(prediction.predicted_salary) }}
      </span>
    </div>
  {% endif %}

  {% if error %}
    <div class="alert alert-danger text-center" id="output">
      {{ error }}
    </div>
  {% endif %}

  <form action="/predict" method="POST" class="row g-3">

    <!-- Age -->
    <div class="col-md-6">
      <label for="age" class="form-label">Age Range</label>
      <select id="age" name="age" class="form-select" required>
        <option value="">--Please choose your age--</option>
        <option value="0">18-21</option>
        <option value="1">22-24</option>
        <option value="2">25-29</option>
        <option value="3">30-34</option>
        <option value="4">35-39</option>
        <option value="5">40-44</option>
        <option value="6">45-49</option>
        <option value="7">50-54</option>
        <option value="8">55-59</option>
        <option value="9">60-69</option>
        <option value="10">70+</option>
      </select>
    </div>

    <!-- Gender -->
    <div class="col-md-6">
      <label for="gender" class="form-label">Gender</label>
      <select id="gender" name="gender" class="form-select" required>
        <option value="">--Please choose your gender--</option>
        <option value="0">Man</option>
        <option value="1">Nonbinary</option>
        <option value="2">Prefer not to say</option>
        <option value="3">Prefer to self-describe</option>
        <option value="4">Woman</option>
      </select>
    </div>

    <!-- Country -->
    <div class="col-12">
      <label for="country" class="form-label">Country</label>
      <select id="country" name="country" class="form-select" required>
        <option value="">--Please choose your country--</option>
        {% for i, country in enumerate([
          "Algeria", "Argentina", "Australia", "Bangladesh", "Belgium", "Brazil", "Cameroon", "Canada", "Chile", "China",
          "Colombia", "Czech Republic", "Ecuador", "Egypt", "Ethiopia", "France", "Germany", "Ghana", "Hong Kong (S.A.R.)",
          "I do not wish to disclose my location", "India", "Indonesia", "Iran, Islamic Republic of...", "Ireland", "Israel",
          "Italy", "Japan", "Kenya", "Malaysia", "Mexico", "Morocco", "Nepal", "Netherlands", "Nigeria", "Other", "Pakistan",
          "Peru", "Philippines", "Poland", "Portugal", "Romania", "Russia", "Saudi Arabia", "Singapore", "South Africa",
          "South Korea", "Spain", "Sri Lanka", "Taiwan", "Thailand", "Tunisia", "Turkey", "Ukraine", "United Arab Emirates",
          "United Kingdom of Great Britain and Northern Ireland", "United States of America", "Viet Nam", "Zimbabwe"
        ]) %}
          <option value="{{ i }}">{{ country }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Highest Degree -->
    <div class="col-md-6">
      <label for="highest_deg" class="form-label">Highest Degree</label>
      <select id="highest_deg" name="highest_deg" class="form-select" required>
        <option value="">--Please choose your highest degree--</option>
        <option value="0">Bachelor’s degree</option>
        <option value="1">Doctoral degree</option>
        <option value="2">I prefer not to answer</option>
        <option value="3">Master’s degree</option>
        <option value="4">No formal education past high school</option>
        <option value="5">Professional doctorate</option>
        <option value="6">Some college/university study without earning a bachelor’s degree</option>
      </select>
    </div>

    <!-- Code Experience -->
    <div class="col-md-6">
      <label for="code_experience" class="form-label">Coding Experience</label>
      <select id="code_experience" name="code_experience" class="form-select" required>
        <option value="">--Please choose your years of experience--</option>
        <option value="0">1-3 years</option>
        <option value="1">10-20 years</option>
        <option value="2">20+ years</option>
        <option value="3">3-5 years</option>
        <option value="4">5-10 years</option>
        <option value="5">&lt; 1 year</option>
        <option value="6">I have never written code</option>
      </select>
    </div>

    <!-- Current Job Title -->
    <div class="col-md-6">
      <label for="current_title" class="form-label">Current Job Title</label>
      <select id="current_title" name="current_title" class="form-select" required>
        <option value="">--Please choose your current title--</option>
        <option value="0">Data Administrator</option>
        <option value="1">Data Analyst</option>
        <option value="2">Data Architect</option>
        <option value="3">Data Engineer</option>
        <option value="4">Data Scientist</option>
        <option value="5">Developer Advocate</option>
        <option value="6">Engineer (non-software)</option>
        <option value="7">ML/MLops Engineer</option>
        <option value="8">Manager</option>
        <option value="9">Other</option>
        <option value="10">Research Scientist</option>
        <option value="11">Software Engineer</option>
        <option value="12">Statistician</option>
        <option value="13">Teacher / Professor</option>
      </select>
    </div>

    <!-- Company Size -->
    <div class="col-md-6">
      <label for="company_size" class="form-label">Company Size</label>
      <select id="company_size" name="company_size" class="form-select" required>
        <option value="">--Please choose your company size--</option>
        <option value="0">0-49 employees</option>
        <option value="1">10,000 or more employees</option>
        <option value="2">1000-9,999 employees</option>
        <option value="3">250-999 employees</option>
        <option value="4">50-249 employees</option>
      </select>
    </div>

    <!-- Submit Button -->
    <div class="col-12 text-center mt-4">
      <button type="submit" class="btn btn-primary px-4 py-2">Submit</button>
    </div>
  </form>
</div>

{% endblock %}
